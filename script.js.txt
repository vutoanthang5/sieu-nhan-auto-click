let score = 0;
let pointsPerClick = 1;
let autoSpeed = 1000;
let autoClicker = null;
let hasAutoClick = false;

const scoreDisplay = document.getElementById("score");
const clickButton = document.getElementById("clickButton");
const resetButton = document.getElementById("resetButton");
const buyMorePerClick = document.getElementById("buyMorePerClick");
const buyDoublePoints = document.getElementById("buyDoublePoints");
const buyAutoClick = document.getElementById("buyAutoClick");
const buyFasterAuto = document.getElementById("buyFasterAuto");

function updateScore() {
  scoreDisplay.textContent = score;
}

clickButton.addEventListener("click", () => {
  score += pointsPerClick;
  updateScore();
  // Hiá»‡u á»©ng Ä‘á»•i mÃ u siÃªu nhÃ¢n
  scoreDisplay.style.color = "#" + Math.floor(Math.random() * 16777215).toString(16);
});

resetButton.addEventListener("click", () => {
  if (confirm("Báº¡n cháº¯c cháº¯n muá»‘n reset Ä‘iá»ƒm sá»‘?")) {
    score = 0;
    pointsPerClick = 1;
    autoSpeed = 1000;
    hasAutoClick = false;
    clearInterval(autoClicker);
    autoClicker = null;
    updateScore();
    alert("ğŸ”„ Äiá»ƒm sá»‘ Ä‘Ã£ Ä‘Æ°á»£c reset!");
  }
});

buyMorePerClick.addEventListener("click", () => {
  if (score >= 50) {
    score -= 50;
    pointsPerClick += 1;
    updateScore();
    alert("ğŸ’ª Sá»©c máº¡nh Ä‘áº¥m tÄƒng thÃªm 1 Ä‘iá»ƒm!");
  } else {
    alert("Báº¡n khÃ´ng Ä‘á»§ Ä‘iá»ƒm!");
  }
});

buyDoublePoints.addEventListener("click", () => {
  if (score >= 150) {
    score -= 150;
    pointsPerClick *= 2;
    updateScore();
    alert("âš”ï¸ Sá»©c máº¡nh Ä‘áº¥m Ä‘Ã£ nhÃ¢n Ä‘Ã´i!");
  } else {
    alert("Báº¡n khÃ´ng Ä‘á»§ Ä‘iá»ƒm!");
  }
});

buyAutoClick.addEventListener("click", () => {
  if (score >= 200) {
    score -= 200;
    hasAutoClick = true;
    if (autoClicker === null) {
      autoClicker = setInterval(() => {
        score += pointsPerClick;
        updateScore();
      }, autoSpeed);
    }
    updateScore();
    alert("ğŸ¤– Tá»± Ä‘áº¥m Ä‘Ã£ Ä‘Æ°á»£c kÃ­ch hoáº¡t!");
  } else {
    alert("Báº¡n khÃ´ng Ä‘á»§ Ä‘iá»ƒm!");
  }
});

buyFasterAuto.addEventListener("click", () => {
  if (score >= 300) {
    if (!hasAutoClick) {
      alert("Báº¡n cáº§n mua Tá»± Äáº¥m trÆ°á»›c!");
      return;
    }
    score -= 300;
    autoSpeed /= 2;
    clearInterval(autoClicker);
    autoClicker = setInterval(() => {
      score += pointsPerClick;
      updateScore();
    }, autoSpeed);
    updateScore();
    alert("âš¡ Tá»‘c Ä‘á»™ Tá»± Äáº¥m Ä‘Ã£ tÄƒng!");
  } else {
    alert("Báº¡n khÃ´ng Ä‘á»§ Ä‘iá»ƒm!");
  }
});
